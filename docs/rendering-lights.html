<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rebel Fork Framework: Light Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rebel Fork Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rendering-lights.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Light Component </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>Light</code> component applies direct lighting to geometries in the <code>Scene</code>. There are three types of light sources:</p>
<ul>
<li>Directional Lights;</li>
<li>Point Lights;</li>
<li>Spot Lights.</li>
</ul>
<h1>Light Type</h1>
<h2>&gt; Directional</h2>
<p>Light is emitted from infinitely distant point. Position of the owner <code>Node</code> is irrelevant, only orientation matters. Examples: Sun or Moon.</p>
<p>Try to have at most one enabled <b>Directional</b> light in the <code>Scene</code> for sake of performance.</p>
<h2>&gt; Spot</h2>
<p>Light is emitted from light source position to one dominant direction with configured spread. Example: flashlight.</p>
<p>Spot lights support relatively cheap shadows. Prefer spot lights to point lights whenever possible.</p>
<h2>&gt; Point</h2>
<p>Light is emitted from light source position to all directions equally. Examples: campfire, torch.</p>
<p>Shadows are relatively expensive.</p>
<h1>Basic Properties</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Is Enabled</b> </td><td class="markdownTableBodyNone">If false, does not affect the <code>Scene</code> in any way.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Light Type</b> </td><td class="markdownTableBodyNone">Type of light source.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Directional </td><td class="markdownTableBodyNone">(see above)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; Spot </td><td class="markdownTableBodyNone">(see above)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Point </td><td class="markdownTableBodyNone">(see above)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Light&#160;Importance</b> </td><td class="markdownTableBodyNone">A hint for desired light quality during Forward lighting. If Deferred lighting is used, this hint is ignored.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Auto </td><td class="markdownTableBodyNone">Lighting is applied either per-pixel, per-vertex or per-geometry, depending on quotas of per-pixel and per-vertex lights.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; Important </td><td class="markdownTableBodyNone">Lighting is always applied per-pixel. If light casts shadows, it is always considered <b>Important</b>.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt;&#160;Not&#160;Important </td><td class="markdownTableBodyNone">Lighting is never applied per-pixel. It is applied either per-vertex or per-geometry depending on the quota of per-vertex lights.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Light Mode</b> </td><td class="markdownTableBodyNone">Determines how this <code>Light</code> will be treated by light baking system.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Realtime </td><td class="markdownTableBodyNone"><code>Light</code> is ignored by light baking system and is completely rendered in runtime.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; Mixed </td><td class="markdownTableBodyNone"><code>Light</code> contributes to indirect lighting during light baking. Direct lighting and shadows are still calculated in runtime.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Baked </td><td class="markdownTableBodyNone"><code>Light</code> is ignored during rendering. All lighting is baked into light maps and light probes.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>View Mask</b> </td><td class="markdownTableBodyNone">Light is ignored if its <b>View Mask</b> doesn't match <b>View Mask</b> of the <code>Camera</code>.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Light Mask</b> </td><td class="markdownTableBodyNone">See <a class="el" href="rendering-zones.html">Zone Component</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Can&#160;Be&#160;Occluded</b> </td><td class="markdownTableBodyNone">Whether to disable this light if it's invisible. You may want to disable that only if you have lit non-occluded geometries. Which is probably bad idea.  </td></tr>
</table>
<h1>Lighting Properties</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Color</b> </td><td class="markdownTableBodyNone">Color of light source, in gamma color space.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Specular Intensity</b> </td><td class="markdownTableBodyNone">Intensity of specular highlights. Ignored by PBR materials.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Brightness&#160;Multiplier</b> </td><td class="markdownTableBodyNone">Multiplier applied to <b>Color</b> value.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Indirect Brightness</b> </td><td class="markdownTableBodyNone">Brightness of baked indirect lighting.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Range</b> </td><td class="markdownTableBodyNone">Lighting is applied to the geometries within <b>Range</b> units around light <code>Node</code> position.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; </td><td class="markdownTableBodyNone">During baking of <b>Directional</b> lights, <b>Range</b> is treated as light source size in degrees.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Draw Distance</b> </td><td class="markdownTableBodyNone">Light source is disabled at <b>Draw Distance</b>. If 0, light source is never disabled.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Fade Distance</b> </td><td class="markdownTableBodyNone">Light source intensity starts to fall at <b>Fade Distance</b> and reaches zero at <b>Draw Distance</b>. If 0, there's no fade.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Spot FOV</b> </td><td class="markdownTableBodyNone"><b>Spot lights only.</b> Maximum angle of light rays spread.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Spot&#160;Aspect&#160;Ratio</b> </td><td class="markdownTableBodyNone"><b>Spot lights only.</b> Ratio of light spread along x axis to light spread along y axis.  </td></tr>
</table>
<h1>Shadow Properties</h1>
<p>Shadows are rendered differently depending on the <b>Light Type</b>:</p>
<ul>
<li>Spot lights use one shadow map that covers whole light frustum.</li>
<li>Point lights use 6 shadow maps that cover each face of axis-aligned cube centered at the light source. Each face is rendered as 90 degree square Spot light.</li>
<li>Directional lights use from 1 to 4 shadow maps that cover different splits of main <code>Camera</code> frustum.</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Cast Shadows</b> </td><td class="markdownTableBodyNone">Whether to cast shadows.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Shadow Distance</b> </td><td class="markdownTableBodyNone">Distance to <em>light source</em> where it stops casting any shadows. Note that shadow casting is not controlled per-geometry, only per-light. If zero, shadows are rendered as long as lit geometry is visible.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Shadow&#160;Fade&#160;Distance</b> </td><td class="markdownTableBodyNone">Distance to <em>light source</em> where shadows start to disappear. If zero, there is no smooth fade out for shadows.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Shadow Intensity</b> </td><td class="markdownTableBodyNone">Amount of light <em>from light source</em> that leaks into shadow.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Shadow Resolution</b> </td><td class="markdownTableBodyNone">Multiplier of shadow map resolution. Note that final shadow map size is still clamped to valid range.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Auto-Reduce Size</b> </td><td class="markdownTableBodyNone">Whether to adjust shadow map density automatically. If disabled, shadow map will always have the exact specified size.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Near/Farclip Ratio</b> </td><td class="markdownTableBodyNone"><b>Spot and Point lights only.</b> Determines how close to light source the geometry should be to cast shadow. Decreasing this value decreases shadow quality.  </td></tr>
</table>
<h2>Shadow Properties for Directional Lights</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Focus To Scene</b> </td><td class="markdownTableBodyNone">Whether to adjust shadow maps to rendered scene instead of <code>Camera</code> frustum. Increases shadow quality and shadow instability on camera movement.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Non-uniform View</b> </td><td class="markdownTableBodyNone">Whether to allow non-square shadow maps. Increases shadow quality and shadow instability on camera movement.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>CSM Splits</b> </td><td class="markdownTableBodyNone">Max distances for each cascade.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>CSM Fade Start</b> </td><td class="markdownTableBodyNone">Distance to <em>geometries</em> where shadow starts to disappear.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>CSM&#160;Bias&#160;Auto&#160;Adjust</b> </td><td class="markdownTableBodyNone">Whether to magically adjust shadow bias on per-cascade basis. Affects <b>Depth Constant Bias</b> and <b>Depth Slope Bias</b>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>View Size Quantize</b> </td><td class="markdownTableBodyNone">Magic factor to reduce shadow instability.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>View Size Minimum</b> </td><td class="markdownTableBodyNone">Minimum size of shadow map of single cascade.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Max Extrusion</b> </td><td class="markdownTableBodyNone">Maximum distance from <code>Camera</code> frustum to the outside geometry where it can still cast shadow.  </td></tr>
</table>
<h2>Shadow Bias Properties</h2>
<p>These are magic values used to reduce shadow artifacts.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Depth Constant Bias</b> </td><td class="markdownTableBodyNone">Controls shifting geometry along light rays unconditionally.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Depth Slope Bias</b> </td><td class="markdownTableBodyNone">Controls shifting geometry along light rays depending on surface orientation.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Normal Offset</b> </td><td class="markdownTableBodyNone">Controls shifting geometry along its vertex normals.  </td></tr>
</table>
<p>Depth bias used to shift shadow caster geometry along light rays. It is calculated by the following formula:</p>
<p><code>final_bias = constant_bias + slope_bias * tg(angle)</code></p>
<p>Where <code>angle</code> is the angle between geometry surface normal and light rays.</p>
<h1>Other Properties</h1>
<h2>Attenuation Texture</h2>
<p>Point and Spot lights may have custom texture that defines a function used to calculate light intensity falloff with distance.</p>
<p>If not set, default falloff is <code>x^-2</code>.</p>
<h2>Light Shape Texture</h2>
<p>TODO: Support light shapes for Directional light.</p>
<p>Point and Spot lights may have custom shape texture that modulated emitted light intensity. It can be used to project arbitrary textures via light sources.</p>
<p>Point light expects <code>TextureCube</code>. Spot light expects <code>Texture2D</code>.</p>
<p>Orientation of shape texture for Point light is controlled by orientation of the owner <code>Node</code>.</p>
<p>When shape texture is set for Spot light, default angular falloff of light intensity is disabled.</p>
<p>It can be used for effects like projectors, custom flashlights, flares from disco ball, etc. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
        <li class="navelem"><a class="el" href="index.html">Home</a></li><li class="navelem"><a class="el" href="documentation.html">Documentation</a></li><li class="navelem"><a class="el" href="framework-overview.html">Framework Overview</a></li><li class="navelem"><a class="el" href="graphics-and-rendering.html">Graphics and Rendering</a></li><li class="navelem"><a class="el" href="rendering-components.html">Rendering Components</a></li>
    </ul>
</div>
</body>
</html>
