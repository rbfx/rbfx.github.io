<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rebel Fork Framework: Reflection Probe Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Rebel Fork Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('rendering-reflection-probes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Reflection Probe Component</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>ReflectionProbe</code> defines a reflection cubemap that will be applied to <code>Drawable</code>s intersecting with the probe. Reflection from <code>ReflectionProbe</code> takes precedence over reflection from <code>Zone</code>.</p>
<p>The rule of thumb is to use <code>Zone</code> to define default background cubemap for reflection and use <code>ReflectionProbe</code>s for all local reflections. <code>ReflectionProbe</code>s may provide much better reflection quality than <code>Zone</code>s.</p>
<p><code>ReflectionProbeManager</code> component should be present in the <code>Scene</code> for <code>ReflectionProbe</code>s to work.</p>
<p>When cubemap re-rendering is requested, cubemaps are not updated immediately, updates may be spread across frames. It's possible to control this behavior in some degree.</p>
<h1>Reflection Probe Manager Properties</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Query&#160;Padding</b>   </td><td class="markdownTableBodyNone">Controls how often reflection probes are re-queried for <code>Drawable</code>. Consider not touching this.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Render&#160;Budget</b>   </td><td class="markdownTableBodyNone">Desired number of cubemap <em>faces</em> rendered per frame for dynamic probes.   </td></tr>
</table>
<h1>Reflection Probe Blending</h1>
<p>When blending is enabled in <code>Drawable</code> properties, two reflection cubemaps may be applied to the object. Only two most relevant <code>ReflectionProbe</code>s are blended, or the most relevant <code>ReflectionProbe</code> and the <code>Zone</code>.</p>
<p>For each <code>ReflectionProbe</code>, relative volume of intersection with <code>Drawable</code> is determined. This volume is used to calculate blend factor.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Case   </th><th class="markdownTableHeadNone">Formula    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Two <code>ReflectionProbe</code>s with same <b>Priority</b> are blended   </td><td class="markdownTableBodyNone"><code>mix(P1,P2,V2/(V1+V2))</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ReflectionProbe</code> with higher <b>Priority</b> is blended with another <code>ReflectionProbe</code>   </td><td class="markdownTableBodyNone"><code>mix(P1,P2,1-V1)</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ReflectionProbe</code> is blended with <code>Zone</code>   </td><td class="markdownTableBodyNone"><code>mix(P1,Z,1-V1)</code>   </td></tr>
</table>
<h1>Common Reflection Probe Properties</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Is Enabled</b>   </td><td class="markdownTableBodyNone">Whether the probe affects <code>Scene</code> in any way.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Is Movable</b>   </td><td class="markdownTableBodyNone">Whether the probe can be efficiently moved in realtime. Use as few <b>Movable</b> probes as possible.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Probe Type</b>   </td><td class="markdownTableBodyNone">Type of probe cubemap.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; Baked   </td><td class="markdownTableBodyNone">Cubemap is baked from the <code>Scene</code> and is saved to file.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Mixed   </td><td class="markdownTableBodyNone">Cubemap can be efficiently rendered on demand.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&gt; Dynamic   </td><td class="markdownTableBodyNone">Cubemap can be efficiently rendered every frame.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; Custom Texture   </td><td class="markdownTableBodyNone">Cubemap is provided by the user.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Is&#160;Realtime&#160;Update</b>   </td><td class="markdownTableBodyNone">Whether to automatically re-render reflection probe every frame.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Is Sliced Update</b>   </td><td class="markdownTableBodyNone">Whether to split update across 6 frames (<b>Dynamic</b> probe only).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Bounding&#160;Box</b>   </td><td class="markdownTableBodyNone">Local-space bounding box of the area which is affected by the probe.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Priority</b>   </td><td class="markdownTableBodyNone">Relative priority of the probe comparing to other probes.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Texture</b>   </td><td class="markdownTableBodyNone">User-provided texture of the probe.   </td></tr>
</table>
<h1>Reflection Probe Box Projection</h1>
<p>By default, reflection probes are considered infinite, which may result in artifacts when used indoors.</p>
<p>Box Projection may be used to apply finite reflection from cubemap.</p>
<p>Note that projection box is defined in world space and is always axis-aligned for performance reasons.</p>
<p>To avoid projection artifacts, objects affected by the probe should not leave <b>Projection Box</b> boundaries. It practically means that either <b>Projection Box</b> should be bigger than the <b>Bounding Box</b>, or no reflective objects should be placed between smaller <b>Projection Box</b> boundaries and bigger <b>Bounding Box</b> boundaries.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Use&#160;Box&#160;Projection</b>   </td><td class="markdownTableBodyNone">Whether to use Box Projection (if supported).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Projection&#160;Box</b>   </td><td class="markdownTableBodyNone">World-space projection box.   </td></tr>
</table>
<h1>Rendering Properties</h1>
<p>These properties define how the cubemap is rendered.</p>
<p><b>Note:</b> Add more properties on demand.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Texture Size</b>   </td><td class="markdownTableBodyNone">Size of cubemap texture.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>View Mask</b>   </td><td class="markdownTableBodyNone">Mask used to cull rendered objects.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Near Clip</b>   </td><td class="markdownTableBodyNone">Near camera clip distance.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Far Clip</b>   </td><td class="markdownTableBodyNone">Far camera clip distance.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
        <li class="navelem"><a class="el" href="index.html">Home</a></li><li class="navelem"><a class="el" href="documentation.html">Documentation</a></li><li class="navelem"><a class="el" href="framework-overview.html">Framework Overview</a></li><li class="navelem"><a class="el" href="graphics-and-rendering.html">Graphics and Rendering</a></li><li class="navelem"><a class="el" href="rendering-components.html">Rendering Components</a></li>
    </ul>
</div>
</body>
</html>
